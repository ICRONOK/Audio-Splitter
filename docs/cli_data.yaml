# CLI Documentation Database - Single Source of Truth
# Audio Splitter Suite 2.0
# This file contains ALL CLI documentation data used across the system

metadata:
  version: "2.0.0"
  last_updated: "2025-09-23"
  generator_version: "1.0.0"
  
global_info:
  program_name: "Audio Splitter Suite"
  executable: "python main.py"
  description: "Professional audio processing CLI tool with modular architecture for audio splitting, format conversion, metadata editing, and spectrogram generation"
  
global_options:
  version:
    flags: ["--version", "-v"]
    description: "Show version information"
    example: "python main.py --version"
    output: "Audio Splitter Suite 2.0.0"

commands:
  split:
    name: "split"
    description: "Divide audio files into segments with precision timing"
    usage: "python main.py split INPUT_FILE [OPTIONS]"
    category: "audio_processing"
    
    arguments:
      input_file:
        name: "input_file"
        type: "string"
        required: true
        description: "Path to audio file to split"
        formats_supported: ["WAV", "MP3", "FLAC", "M4A", "OGG"]
        
    options:
      segments:
        flags: ["--segments", "-s"]
        type: "string[]"
        required: true
        description: "Segments in format 'start-end:name'"
        format_help: "Format: 'MM:SS-MM:SS:name' or 'HH:MM:SS-HH:MM:SS:name'"
        example: '"0:30-1:30:intro" "1:30-3:00:main"'
        
      output_dir:
        flags: ["--output-dir", "-o"]
        type: "string"
        default: "data/output"
        description: "Output directory for segments"
        
      enhanced:
        flags: ["--enhanced"]
        type: "flag"
        default: false
        description: "Use enhanced splitter with DSP optimizations and cross-fade"
        
      fade_enabled:
        flags: ["--fade-enabled"]
        type: "flag"
        default: true
        description: "Enable cross-fade transitions (Hann window)"
        requires: ["--enhanced"]
        
      dither_enabled:
        flags: ["--dither-enabled"]
        type: "flag"
        default: true
        description: "Enable triangular dithering to reduce quantization noise"
        requires: ["--enhanced"]
        
      quality_validation:
        flags: ["--quality-validation"]
        type: "flag"
        default: false
        description: "Validate quality of each segment"
        
      show_metrics:
        flags: ["--show-metrics"]
        type: "flag"
        default: false
        description: "Show detailed quality metrics per segment"
        
    examples:
      basic:
        title: "Basic audio splitting"
        command: 'python main.py split audio.wav -s "0:30-1:30:intro" "1:30-3:00:main"'
        description: "Split audio into two named segments"
        
      enhanced:
        title: "Enhanced splitting with quality validation"
        command: 'python main.py split audio.wav -s "0:00-5:00:segment1" --enhanced --show-metrics'
        description: "Use enhanced algorithms with DSP optimizations and quality metrics"
        
      podcast:
        title: "Podcast episode splitting"
        command: 'python main.py split recording.wav -s "0:00-45:00:episode" "47:00-90:00:bonus" --enhanced --quality-validation'
        description: "Split podcast with quality validation and enhanced processing"
        
    workflows:
      podcast_processing:
        title: "Complete Podcast Processing"
        description: "Full workflow for podcast episode processing"
        steps:
          - step: 1
            action: "Split recording into episodes"
            command: 'python main.py split recording.wav -s "0:00-45:00:episode1" "47:00-90:00:episode2"'
          - step: 2
            action: "Add metadata to episodes"
            command: 'python main.py metadata episode1.wav --title "Episode 1" --artist "My Podcast"'
          - step: 3
            action: "Convert to MP3 for distribution"
            command: 'python main.py convert episode1.wav --output episode1.mp3 --format mp3'
            
  convert:
    name: "convert"
    description: "Convert between audio formats with quality preservation"
    usage: "python main.py convert INPUT [OPTIONS]"
    category: "audio_processing"
    
    arguments:
      input:
        name: "input"
        type: "string"
        required: true
        description: "Input file or directory path"
        formats_supported: ["WAV", "MP3", "FLAC", "M4A", "OGG"]
        
    options:
      output:
        flags: ["--output", "-o"]
        type: "string"
        required: true
        description: "Output file or directory path"
        
      format:
        flags: ["--format", "-f"]
        type: "choice"
        choices: ["wav", "mp3", "flac"]
        required: true
        description: "Target output format"
        
      quality:
        flags: ["--quality", "-q"]
        type: "string"
        default: "high"
        description: "Conversion quality level"
        choices_help:
          mp3: ["128k", "192k", "320k", "vbr_high"]
          flac: ["fast", "medium", "high"]
          wav: ["original"]
          
      batch:
        flags: ["--batch"]
        type: "flag"
        default: false
        description: "Enable batch conversion mode"
        
      recursive:
        flags: ["--recursive", "-r"]
        type: "flag"
        default: false
        description: "Search recursively in subdirectories"
        
      quality_validation:
        flags: ["--quality-validation"]
        type: "flag"
        default: false
        description: "Enable scientific quality validation (THD+N, SNR)"
        
      quality_level:
        flags: ["--quality-level"]
        type: "choice"
        choices: ["basic", "professional", "studio"]
        default: "professional"
        description: "Quality validation level"
        
      show_metrics:
        flags: ["--show-metrics"]
        type: "flag"
        default: false
        description: "Show detailed quality metrics"
        
    examples:
      single_file:
        title: "Convert single file"
        command: 'python main.py convert input.wav --output output.mp3 --format mp3'
        description: "Convert WAV to MP3 with default quality"
        
      high_quality:
        title: "High quality conversion with validation"
        command: 'python main.py convert input.wav --output output.flac --format flac --quality-validation --show-metrics'
        description: "Convert to FLAC with quality validation and metrics"
        
      batch_conversion:
        title: "Batch directory conversion"
        command: 'python main.py convert ./music --output ./converted --format mp3 --batch --recursive'
        description: "Convert entire directory structure to MP3"
        
    workflows:
      album_mastering:
        title: "Album Mastering Workflow"
        description: "Professional album mastering and distribution workflow"
        steps:
          - step: 1
            action: "Convert masters to FLAC for archival"
            command: 'python main.py convert ./masters --output ./archive --format flac --quality high --batch'
          - step: 2
            action: "Create MP3 versions for distribution"
            command: 'python main.py convert ./archive --output ./distribution --format mp3 --quality 320k --batch'
          - step: 3
            action: "Validate quality of final masters"
            command: 'python main.py convert master_track.wav --output final.flac --format flac --quality-validation --show-metrics'

  channel:
    name: "channel"
    description: "Convert audio channels (mono ↔ stereo) with scientific algorithms"
    usage: "python main.py channel INPUT [OPTIONS]"
    category: "audio_processing"
    
    arguments:
      input:
        name: "input"
        type: "string"
        required: true
        description: "Input file or directory path"
        
    options:
      output:
        flags: ["--output", "-o"]
        type: "string"
        required: false
        description: "Output file or directory path (required unless using --analyze)"
        
      channels:
        flags: ["--channels", "-c"]
        type: "choice"
        choices: [1, 2]
        required: false
        description: "Target number of channels (1=mono, 2=stereo) (required unless using --analyze)"
        
      algorithm:
        flags: ["--algorithm", "-a"]
        type: "choice"
        choices: ["downmix_center", "left_only", "right_only", "average"]
        default: "downmix_center"
        description: "Mixing algorithm for stereo→mono conversion"
        
      batch:
        flags: ["--batch"]
        type: "flag"
        default: false
        description: "Enable batch conversion mode"
        
      recursive:
        flags: ["--recursive", "-r"]
        type: "flag"
        default: false
        description: "Search recursively in subdirectories"
        
      preserve_metadata:
        flags: ["--preserve-metadata"]
        type: "flag"
        default: true
        description: "Preserve original metadata"
        
      analyze:
        flags: ["--analyze"]
        type: "flag"
        default: false
        description: "Only analyze channel properties without converting"
        
    examples:
      stereo_to_mono:
        title: "Convert stereo to mono"
        command: 'python main.py channel input.wav --output output.wav --channels 1'
        description: "Convert stereo file to mono using center downmix"
        
      analyze_only:
        title: "Analyze channel properties"
        command: 'python main.py channel input.wav --analyze'
        description: "Analyze channel properties without conversion"
        
      batch_mono:
        title: "Batch convert directory to mono"
        command: 'python main.py channel ./stereo_files --output ./mono_files --channels 1 --batch --algorithm average'
        description: "Convert entire directory to mono using average algorithm"

  metadata:
    name: "metadata"
    description: "Edit audio metadata tags with professional standards support"
    usage: "python main.py metadata FILE_PATH [OPTIONS]"
    category: "metadata_management"
    
    arguments:
      file_path:
        name: "file_path"
        type: "string"
        required: true
        description: "Path to audio file for metadata editing"
        formats_supported: ["MP3", "FLAC", "M4A", "WAV"]
        
    options:
      title:
        flags: ["--title"]
        type: "string"
        description: "Set track title"
        
      artist:
        flags: ["--artist"]
        type: "string"
        description: "Set artist name"
        
      album:
        flags: ["--album"]
        type: "string"
        description: "Set album name"
        
      genre:
        flags: ["--genre"]
        type: "string"
        description: "Set music genre"
        
      year:
        flags: ["--year"]
        type: "string"
        description: "Set release year"
        
    examples:
      basic_tags:
        title: "Set basic metadata tags"
        command: 'python main.py metadata song.mp3 --title "My Song" --artist "My Artist"'
        description: "Set title and artist for a track"
        
      complete_metadata:
        title: "Complete album metadata"
        command: 'python main.py metadata track.flac --title "Track 1" --artist "Artist" --album "Album" --genre "Rock" --year "2024"'
        description: "Set complete metadata for album track"

  spectrogram:
    name: "spectrogram"
    description: "Generate spectrograms optimized for LLM analysis"
    usage: "python main.py spectrogram INPUT_FILE [OPTIONS]"
    category: "analysis_visualization"
    
    arguments:
      input_file:
        name: "input_file"
        type: "string"
        required: true
        description: "Path to audio file for spectrogram generation"
        
    options:
      output:
        flags: ["--output", "-o"]
        type: "string"
        description: "Output image file path"
        
      type:
        flags: ["--type", "-t"]
        type: "choice"
        choices: ["mel", "linear", "cqt", "dual"]
        default: "mel"
        description: "Type of spectrogram to generate"
        
      output_dir:
        flags: ["--output-dir"]
        type: "string"
        description: "Output directory for multiple spectrogram types"
        
      mel_bins:
        flags: ["--mel-bins"]
        type: "integer"
        default: 128
        description: "Number of mel frequency bins"
        
      fmin:
        flags: ["--fmin"]
        type: "float"
        default: 20.0
        description: "Minimum frequency in Hz"
        
      fmax:
        flags: ["--fmax"]
        type: "float"
        default: 8000.0
        description: "Maximum frequency in Hz"
        
      duration:
        flags: ["--duration"]
        type: "float"
        description: "Maximum duration in seconds"
        
      return_data:
        flags: ["--return-data"]
        type: "flag"
        default: false
        description: "Return base64 image data for integration"
        
      enhanced:
        flags: ["--enhanced"]
        type: "flag"
        default: false
        description: "Use enhanced generator with scientific quality validation"
        
      quality_gates:
        flags: ["--quality-gates"]
        type: "flag"
        default: false
        description: "Enable quality gates (temporal/frequency resolution)"
        
      llm_optimized:
        flags: ["--llm-optimized"]
        type: "flag"
        default: true
        description: "Optimize specifically for LLM analysis"
        
      show_quality_metrics:
        flags: ["--show-quality-metrics"]
        type: "flag"
        default: false
        description: "Show spectrogram quality metrics"
        
    examples:
      basic_mel:
        title: "Generate mel spectrogram"
        command: 'python main.py spectrogram audio.wav --output spectrogram.png --type mel'
        description: "Generate mel spectrogram optimized for LLM analysis"
        
      enhanced_analysis:
        title: "Enhanced spectrogram with quality metrics"
        command: 'python main.py spectrogram audio.wav --enhanced --show-quality-metrics --type mel'
        description: "Generate enhanced mel spectrogram with quality validation"
        
      dual_output:
        title: "Generate dual spectrograms"
        command: 'python main.py spectrogram audio.wav --output-dir ./spectrograms --type dual'
        description: "Generate both mel and linear spectrograms"

  quality_settings:
    name: "quality-settings"
    description: "Manage user quality configuration and preferences"
    usage: "python main.py quality-settings ACTION [OPTIONS]"
    category: "configuration"
    
    subcommands:
      show:
        name: "show"
        description: "Display current quality configuration"
        options:
          detailed:
            flags: ["--detailed"]
            type: "flag"
            description: "Show detailed configuration including thresholds"
            
      set_profile:
        name: "set-profile"
        description: "Set quality profile"
        arguments:
          profile:
            name: "profile"
            type: "choice"
            choices: ["studio", "professional", "standard", "basic", "custom"]
            required: true
            description: "Quality profile to activate"
            
      set_thresholds:
        name: "set-thresholds"
        description: "Set custom quality thresholds"
        options:
          thd:
            flags: ["--thd"]
            type: "float"
            description: "THD+N threshold in dB (e.g., -60.0)"
          snr:
            flags: ["--snr"]
            type: "float"
            description: "SNR threshold in dB (e.g., 90.0)"
          dynamic_range:
            flags: ["--dynamic-range"]
            type: "float"
            description: "Minimum dynamic range in % (e.g., 95.0)"
            
      preferences:
        name: "preferences"
        description: "Configure general preferences"
        options:
          enable_validation:
            flags: ["--enable-validation"]
            type: "flag"
            description: "Enable quality validation by default"
          disable_validation:
            flags: ["--disable-validation"]
            type: "flag"
            description: "Disable quality validation by default"
          show_metrics:
            flags: ["--show-metrics"]
            type: "flag"
            description: "Show metrics by default"
          hide_metrics:
            flags: ["--hide-metrics"]
            type: "flag"
            description: "Hide metrics by default"
          prefer_enhanced:
            flags: ["--prefer-enhanced"]
            type: "flag"
            description: "Prefer enhanced algorithms by default"
          prefer_standard:
            flags: ["--prefer-standard"]
            type: "flag"
            description: "Prefer standard algorithms by default"
            
      reset:
        name: "reset"
        description: "Reset configuration to defaults"
        options:
          confirm:
            flags: ["--confirm"]
            type: "flag"
            required: true
            description: "Confirm reset operation"
            
      export:
        name: "export"
        description: "Export configuration to file"
        arguments:
          file:
            name: "file"
            type: "string"
            required: true
            description: "Output file path for configuration export"
            
      import:
        name: "import"
        description: "Import configuration from file"
        arguments:
          file:
            name: "file"
            type: "string"
            required: true
            description: "Configuration file path to import"
    
    examples:
      show_config:
        title: "Show current configuration"
        command: 'python main.py quality-settings show --detailed'
        description: "Display detailed quality configuration"
        
      set_studio_profile:
        title: "Set studio quality profile"
        command: 'python main.py quality-settings set-profile studio'
        description: "Activate studio quality profile with highest standards"
        
      custom_thresholds:
        title: "Set custom quality thresholds"
        command: 'python main.py quality-settings set-thresholds --thd -80.0 --snr 100.0'
        description: "Set custom THD+N and SNR thresholds"

# Common workflows across commands
workflows:
  podcast_production:
    title: "Complete Podcast Production Workflow"
    description: "End-to-end podcast episode production"
    category: "media_production"
    steps:
      - step: 1
        description: "Split raw recording into episodes"
        command: 'python main.py split raw_recording.wav -s "0:00-45:00:episode1" "47:00-90:00:episode2" --enhanced'
      - step: 2
        description: "Add metadata to episodes"
        command: 'python main.py metadata episode1.wav --title "Episode 1: Introduction" --artist "My Podcast Show"'
      - step: 3
        description: "Convert to MP3 for distribution"
        command: 'python main.py convert episode1.wav --output episode1.mp3 --format mp3 --quality vbr_high'
      - step: 4
        description: "Generate spectrogram for analysis"
        command: 'python main.py spectrogram episode1.mp3 --output episode1_spectrum.png --type mel --llm-optimized'
        
  music_mastering:
    title: "Professional Music Mastering Workflow"
    description: "Complete mastering workflow for music albums"
    category: "music_production"
    steps:
      - step: 1
        description: "Convert masters to archival FLAC"
        command: 'python main.py convert ./master_tracks --output ./archive --format flac --quality high --batch --quality-validation'
      - step: 2
        description: "Create distribution MP3 versions"
        command: 'python main.py convert ./archive --output ./distribution --format mp3 --quality 320k --batch'
      - step: 3
        description: "Apply album metadata using templates"
        command: 'python main.py metadata track01.mp3 --title "Track 1" --artist "Artist Name" --album "Album Title"'
      - step: 4
        description: "Generate spectrograms for quality analysis"
        command: 'python main.py spectrogram track01.mp3 --enhanced --show-quality-metrics --type dual --output-dir ./analysis'

# Help and documentation metadata
help_info:
  examples_note: "For detailed examples of any command, use: python main.py COMMAND --help"
  workflows_note: "See complete workflows in the CLI Reference Guide"
  quality_note: "Quality validation requires --enhanced flag for most commands"
  formats_note: "Supported formats: WAV, MP3, FLAC, M4A (input), WAV/MP3/FLAC (output)"
  
troubleshooting:
  common_errors:
    file_not_found:
      error: "FileNotFoundError: audio file not found"
      solution: "Check file path and ensure file exists. Use absolute paths if needed."
      example: 'python main.py split "/full/path/to/audio.wav" -s "0:00-1:00:test"'
      
    invalid_format:
      error: "Invalid time format in segments"
      solution: "Use format MM:SS or HH:MM:SS for time ranges"
      example: 'Correct: "1:30-2:45:segment" | Incorrect: "90-165:segment"'
      
    permission_denied:
      error: "PermissionError: cannot write to output directory"
      solution: "Check write permissions or use a different output directory"
      example: 'python main.py split audio.wav -s "0:00-1:00:test" -o ~/Documents/audio_output'
      
    quality_validation_failed:
      error: "Quality validation failed with poor metrics"
      solution: "Check source audio quality or adjust quality thresholds"
      example: 'python main.py quality-settings set-profile basic  # Use less strict validation'